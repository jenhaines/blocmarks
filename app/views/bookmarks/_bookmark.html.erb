<div class="<%= column %>">
  <div class="thumbnail">
    <%= bookmark.thumbnail_url != "" ? (image_tag bookmark.thumbnail_url) : (image_tag 'filler.png', size: '180x180') %>
      <div class="caption">
        <p><b><%= truncate(bookmark.title, length: 30) %></b></p>
        <p><%= link_to truncate(bookmark.address, length: 30), bookmark.address %></p>
        <% unless current_user.bookmarks.include?(bookmark) %>
          <% if favorite = current_user.favorited(bookmark) %>
            <%= link_to [bookmark, favorite], class: 'btn btn-success btn-xs', method: :delete do %>
              <i class="glyphicon glyphicon-star-empty"> </i>&nbsp; Unlike
            <% end %>
          <% else %>
            <%= link_to [bookmark, Favorite.new], class: 'btn btn-primary btn-xs', method: :post do %>
              <i class="glyphicon glyphicon-star"> </i>&nbsp; Like
            <% end %>
          <% end %>
        <% else %>
          <%= link_to "Delete", bookmark, class: "btn btn-danger btn-xs", method: :delete, data: { confirm: 'Are you sure?' } %>
        <% end %>
        <%= truncate(bookmark.topics.pluck(:topic).join(", "), length: 30) %>
      </div>
    </div>
    </div>
